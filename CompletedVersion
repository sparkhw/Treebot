#include <Servo.h>

Servo ServoTop;
Servo ServoBot;

//Top gripper
int E1 = 5;
int M1 = 4;
//Bottom gripper
int E2 = 6;
int M2 = 7;

void setup()
{  
    pinMode(M1, OUTPUT);
    pinMode(E1, OUTPUT);
    pinMode(M2, OUTPUT);
    pinMode(E2, OUTPUT);
    ServoTop.attach(9);
    ServoBot.attach(10);

    //set servo to zero degree
    ServoTop.writeMicroseconds(1500);
    delay(500); 

    //gippers hold on
    digitalWrite(M1, HIGH); 
    analogWrite(E1, 255);
    digitalWrite(M2, HIGH); 
    analogWrite(E2, 255);     
    delay(15000);           
    analogWrite(E1,0);// Dc motor stop
    analogWrite(E2,0);
    delay(500); 
}




void loop() {
  // gripper release(anticlockwise)
  digitalWrite(M1, LOW); 
  analogWrite(E1, 255);  
  delay(15000);  
  analogWrite(E1,0);// Dc motor stop
  delay(500); 

  // Anticlockwise 180 degree turn
  ServoTop.writeMicroseconds(1700); 
  delay(1000);  // Rotate anti clockwise (180 degree turn)
  ServoTop.writeMicroseconds(1500); // servo stop
  delay(500); 

  // gripper hold on(clockwise)
  digitalWrite(M1, HIGH); 
  analogWrite(E1, 255); 
  delay(15000); 
  analogWrite(E1,0);// Dc motor stop
  delay(500); 

 // gripper release(anticlockwise)
  digitalWrite(M2, LOW); 
  analogWrite(E2, 255);  
  delay(15000);  
  analogWrite(E2,0);
  delay(500); 

  // Anticlockwise 180 degree turn
  ServoBot.writeMicroseconds(1700); 
  delay(1000);  // Rotate anti clockwise (180 degree turn)
  ServoBot.writeMicroseconds(1500); // servo stop
  delay(500); 

  // gripper hold on(clockwise)
  digitalWrite(M2, HIGH); 
  analogWrite(E2, 255); 
  delay(15000); 
  analogWrite(E2,0);
  delay(500); 
}

